<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haroun Minhas - Portfolio</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Theme Root with Background Layers */
        .theme-root {
            position: relative;
            min-height: 100vh;
            isolation: isolate;
        }
        
        .theme-root::before,
        .theme-root::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            transition: opacity 1200ms ease-in-out;
        }
        
        .theme-root::before {
            background: 
                radial-gradient(circle at 20% 50%, var(--accent-glow) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--accent2-glow) 0%, transparent 50%),
                linear-gradient(135deg, var(--bg) 0%, var(--bg2) 100%);
            opacity: 1;
        }
        
        .theme-root::after {
            background: 
                radial-gradient(circle at 20% 50%, var(--next-accent-glow) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, var(--next-accent2-glow) 0%, transparent 50%),
                linear-gradient(135deg, var(--next-bg) 0%, var(--next-bg2) 100%);
            opacity: 0;
        }
        
        .theme-root[data-fading="true"]::after {
            opacity: 1;
        }
        
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 2rem;
        }
        
        /* Hero title - NO background-clip transition */
        .hero-title {
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            animation: fadeInUp 0.8s ease-out;
            color: transparent;
        }
        
        .hero-title::before,
        .hero-title::after {
            content: 'Haroun Minhas';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            transition: opacity 1200ms ease-in-out;
            pointer-events: none;
        }
        
        .hero-title::before {
            background-image: linear-gradient(135deg, var(--accent), var(--accent2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 1;
            z-index: 2;
        }
        
        .hero-title::after {
            background-image: linear-gradient(135deg, var(--next-accent), var(--next-accent2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 0;
            z-index: 1;
        }
        
        .theme-root[data-fading="true"] .hero-title::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .hero-title::after {
            opacity: 1;
        }
        
        /* Subtitle - white text always */
        .hero-subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            margin-bottom: 3rem;
            animation: fadeInUp 0.8s ease-out 0.2s both;
            color: var(--text);
        }
        
        /* Glassmorphism Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .scroll-indicator.hidden {
            opacity: 0;
            pointer-events: none;
            transform: translateX(-50%) translateY(-20px);
        }
        
        .scroll-indicator:hover {
            opacity: 1;
            transform: translateX(-50%) translateY(5px);
        }
        
        .scroll-indicator-inner {
            position: relative;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: bounce 2s ease-in-out infinite;
        }
        
        .scroll-indicator-inner::before,
        .scroll-indicator-inner::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            transition: opacity 1200ms ease-in-out;
        }
        
        .scroll-indicator-inner::before {
            background: var(--surface);
            border: 1px solid var(--border);
            box-shadow: 0 8px 32px var(--shadow);
            opacity: 1;
            z-index: 1;
        }
        
        .scroll-indicator-inner::after {
            background: var(--next-surface);
            border: 1px solid var(--next-border);
            box-shadow: 0 8px 32px var(--next-shadow);
            opacity: 0;
            z-index: 0;
        }
        
        .theme-root[data-fading="true"] .scroll-indicator-inner::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .scroll-indicator-inner::after {
            opacity: 1;
        }
        
        .scroll-indicator-icon {
            position: relative;
            z-index: 2;
            font-size: 1.5rem;
            animation: chevronPulse 2s ease-in-out infinite;
            color: var(--text);
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        @keyframes chevronPulse {
            0%, 100% {
                opacity: 0.7;
            }
            50% {
                opacity: 1;
            }
        }
        
        .projects-section {
            padding: 5rem 0;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }
        
        /* Section title - white text always */
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 3rem;
            color: var(--text);
        }
        
        .project-card {
            border-radius: 20px;
            padding: 2rem;
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .project-card::before,
        .project-card::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 20px;
            border: 1px solid;
            pointer-events: none;
            transition: opacity 1200ms ease-in-out;
        }
        
        .project-card::before {
            background: var(--surface);
            border-color: var(--border);
            opacity: 1;
            z-index: -1;
        }
        
        .project-card::after {
            background: var(--next-surface);
            border-color: var(--next-border);
            opacity: 0;
            z-index: -2;
        }
        
        .theme-root[data-fading="true"] .project-card::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .project-card::after {
            opacity: 1;
        }
        
        .project-card:hover {
            transform: translateY(-10px);
        }
        
        .project-card:hover .project-card-top-bar {
            transform: scaleX(1);
        }
        
        .project-card-top-bar {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            transform: scaleX(0);
            transition: transform 0.3s ease;
            z-index: 10;
        }
        
        .project-card-top-bar::before,
        .project-card-top-bar::after {
            content: '';
            position: absolute;
            inset: 0;
            transition: opacity 1200ms ease-in-out;
        }
        
        .project-card-top-bar::before {
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            opacity: 1;
        }
        
        .project-card-top-bar::after {
            background: linear-gradient(90deg, var(--next-accent), var(--next-accent2));
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .project-card-top-bar::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .project-card-top-bar::after {
            opacity: 1;
        }
        
        .project-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            color: white;
            position: relative;
            z-index: 1;
        }
        
        .project-icon::before,
        .project-icon::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 12px;
            transition: opacity 1200ms ease-in-out;
            z-index: -1;
        }
        
        .project-icon::before {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            opacity: 1;
        }
        
        .project-icon::after {
            background: linear-gradient(135deg, var(--next-accent), var(--next-accent2));
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .project-icon::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .project-icon::after {
            opacity: 1;
        }
        
        /* White text for project content */
        .project-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text);
            position: relative;
            z-index: 1;
        }
        
        .project-description {
            color: var(--muted);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }
        
        .btn-project {
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            font-weight: 500;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            z-index: 1;
        }
        
        .btn-project::before,
        .btn-project::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50px;
            transition: opacity 1200ms ease-in-out;
            z-index: -1;
        }
        
        .btn-project::before {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            opacity: 1;
        }
        
        .btn-project::after {
            background: linear-gradient(135deg, var(--next-accent), var(--next-accent2));
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .btn-project::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .btn-project::after {
            opacity: 1;
        }
        
        .btn-project:hover {
            transform: translateX(5px);
            color: white;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .social-link {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            text-decoration: none;
            position: relative;
        }
        
        .social-link::before,
        .social-link::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            border: 1px solid;
            transition: opacity 1200ms ease-in-out;
        }
        
        .social-link::before {
            background: var(--surface);
            border-color: var(--border);
            opacity: 1;
            z-index: -1;
        }
        
        .social-link::after {
            background: var(--next-surface);
            border-color: var(--next-border);
            opacity: 0;
            z-index: -2;
        }
        
        .theme-root[data-fading="true"] .social-link::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .social-link::after {
            opacity: 1;
        }
        
        .social-link i {
            position: relative;
            z-index: 1;
            color: var(--text);
        }
        
        .social-link:hover {
            transform: translateY(-5px);
        }
        
        .social-link:hover::before,
        .social-link:hover::after {
            opacity: 0 !important;
        }
        
        .social-link:hover::after {
            opacity: 1 !important;
        }
        
        /* Hover gradient layer */
        .social-link-hover {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .social-link:hover .social-link-hover {
            opacity: 1;
        }
        
        .social-link:hover i {
            color: white;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Badge tech - white text always */
        .badge-tech {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 500;
            display: inline-block;
            margin: 0.25rem;
            position: relative;
            color: var(--text);
        }
        
        .badge-tech::before,
        .badge-tech::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 20px;
            border: 1px solid;
            pointer-events: none;
            transition: opacity 1200ms ease-in-out;
            z-index: -1;
        }
        
        .badge-tech::before {
            background: var(--badge-bg);
            border-color: var(--border);
            opacity: 1;
        }
        
        .badge-tech::after {
            background: var(--next-badge-bg);
            border-color: var(--next-border);
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .badge-tech::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .badge-tech::after {
            opacity: 1;
        }
        
        /* Theme Controls */
        .theme-controls {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
            display: flex;
            gap: 0.5rem;
        }
        
        .theme-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: 1px solid transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .theme-btn::before,
        .theme-btn::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            border: 1px solid;
            transition: opacity 1200ms ease-in-out;
        }
        
        .theme-btn::before {
            background: var(--surface);
            border-color: var(--border);
            box-shadow: 0 4px 12px var(--shadow);
            opacity: 1;
            z-index: -1;
        }
        
        .theme-btn::after {
            background: var(--next-surface);
            border-color: var(--next-border);
            box-shadow: 0 4px 12px var(--next-shadow);
            opacity: 0;
            z-index: -2;
        }
        
        .theme-root[data-fading="true"] .theme-btn::before {
            opacity: 0;
        }
        
        .theme-root[data-fading="true"] .theme-btn::after {
            opacity: 1;
        }
        
        .theme-btn i {
            color: var(--text);
            position: relative;
            z-index: 1;
        }
        
        .theme-btn:hover {
            transform: translateY(-2px);
        }
        
        .theme-btn:hover::before,
        .theme-btn:hover::after {
            opacity: 0 !important;
        }
        
        /* Hover gradient layer for theme btn */
        .theme-btn-hover {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: var(--accent);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }
        
        .theme-btn:hover .theme-btn-hover {
            opacity: 1;
        }
        
        .theme-btn:hover i {
            color: white;
        }
        
        .theme-btn:active {
            transform: translateY(0);
        }
        
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .theme-root::before,
            .theme-root::after {
                transition: none !important;
            }
            
            * {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
            
            .scroll-indicator-inner {
                animation: none !important;
            }
            
            .scroll-indicator-icon {
                animation: none !important;
                opacity: 0.7 !important;
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .theme-controls {
                bottom: 1rem;
                right: 1rem;
            }
            
            .theme-btn {
                width: 42px;
                height: 42px;
                font-size: 1rem;
            }
            
            .scroll-indicator {
                bottom: 2rem;
            }
            
            .scroll-indicator-inner {
                width: 50px;
                height: 50px;
            }
            
            .scroll-indicator-icon {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="theme-root" id="themeRoot">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">Haroun Minhas</h1>
                    <p class="hero-subtitle">Full Stack Developer & Creative Problem Solver</p>
                    
                    <div class="social-links">
                        <a href="https://github.com/HarounMinhas" class="social-link" target="_blank" rel="noopener" title="GitHub">
                            <span class="social-link-hover"></span>
                            <i class="bi bi-github"></i>
                        </a>
                        <a href="https://www.linkedin.com/in/haroun-minhas-848b8896/" class="social-link" target="_blank" rel="noopener" title="LinkedIn">
                            <span class="social-link-hover"></span>
                            <i class="bi bi-linkedin"></i>
                        </a>
                        <a href="https://www.instagram.com/harounminhas" class="social-link" target="_blank" rel="noopener" title="Instagram">
                            <span class="social-link-hover"></span>
                            <i class="bi bi-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="scroll-indicator" id="scrollIndicator" aria-label="Scroll naar beneden" title="Scroll naar projecten">
                <div class="scroll-indicator-inner">
                    <i class="bi bi-chevron-down scroll-indicator-icon"></i>
                </div>
            </div>
        </section>
        
        <!-- Projects Section -->
        <section class="projects-section" id="projectsSection">
            <div class="container">
                <h2 class="section-title">Mijn Projecten</h2>
                
                <div class="row g-4">
                    <!-- Zen Writer Project -->
                    <div class="col-lg-4 col-md-6">
                        <div class="project-card">
                            <div class="project-card-top-bar"></div>
                            <div class="project-icon">
                                <i class="bi bi-pencil-square"></i>
                            </div>
                            <h3 class="project-title">Zen Writer</h3>
                            <p class="project-description">
                                Een minimalistische, distraction-free text editor met fullscreen focus mode. 
                                Ondersteunt Bold, Italic & Underline styling. Export naar JSON of XML met modulaire SOLID architectuur.
                            </p>
                            <div class="mb-3">
                                <span class="badge-tech">Vanilla JS</span>
                                <span class="badge-tech">SOLID</span>
                                <span class="badge-tech">Modular Design</span>
                            </div>
                            <a href="./zen-writer/" class="btn-project">
                                Start Writing <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Regex Playground Project -->
                    <div class="col-lg-4 col-md-6">
                        <div class="project-card">
                            <div class="project-card-top-bar"></div>
                            <div class="project-icon">
                                <i class="bi bi-code-slash"></i>
                            </div>
                            <h3 class="project-title">Regex Playground</h3>
                            <p class="project-description">
                                Een krachtige client-side regex tool met live matching, test suites en local storage. 
                                Kies uit 3 layouts en deel je patterns via URL. Perfect voor debuggen en leren!
                            </p>
                            <div class="mb-3">
                                <span class="badge-tech">Vanilla JS</span>
                                <span class="badge-tech">IndexedDB</span>
                                <span class="badge-tech">ES6 Modules</span>
                            </div>
                            <a href="./regex-playground/" class="btn-project">
                                Open Playground <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- Phase 10 Scorekeeper Project -->
                    <div class="col-lg-4 col-md-6">
                        <div class="project-card">
                            <div class="project-card-top-bar"></div>
                            <div class="project-icon">
                                <i class="bi bi-dice-5-fill"></i>
                            </div>
                            <h3 class="project-title">Phase 10 Scorekeeper</h3>
                            <p class="project-description">
                                Een snelle en intu√Øtieve webapp om scores bij te houden tijdens Phase 10 spelletjes. 
                                Inclusief rondegeschiedenis, undo-functie en random fase generator.
                            </p>
                            <div class="mb-3">
                                <span class="badge-tech">React</span>
                                <span class="badge-tech">TypeScript</span>
                                <span class="badge-tech">Vite</span>
                            </div>
                            <a href="./phase10/" class="btn-project">
                                Start App <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                    
                    <!-- ColorHunt Palette Tester Project -->
                    <div class="col-lg-4 col-md-6">
                        <div class="project-card">
                            <div class="project-card-top-bar"></div>
                            <div class="project-icon">
                                <i class="bi bi-palette-fill"></i>
                            </div>
                            <h3 class="project-title">ColorHunt Palette Tester</h3>
                            <p class="project-description">
                                Een interactieve tool om ColorHunt palettes te importeren en direct toe te passen op Bootstrap componenten. 
                                Test kleurenschema's in real-time!
                            </p>
                            <div class="mb-3">
                                <span class="badge-tech">JavaScript</span>
                                <span class="badge-tech">Bootstrap</span>
                                <span class="badge-tech">CSS</span>
                            </div>
                            <a href="./colorhunt/" class="btn-project">
                                Test Palettes <i class="bi bi-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Theme Controls -->
        <div class="theme-controls">
            <button class="theme-btn" id="playPauseBtn" title="Pause theme drift" aria-label="Pause">
                <span class="theme-btn-hover"></span>
                <i class="bi bi-pause-fill"></i>
            </button>
            <button class="theme-btn" id="nextBtn" title="Next theme" aria-label="Next">
                <span class="theme-btn-hover"></span>
                <i class="bi bi-skip-forward-fill"></i>
            </button>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Theme Drift System -->
    <script>
        // Color Utilities
        const ColorUtils = {
            hexToRgb(hex) {
                const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? {
                    r: parseInt(result[1], 16),
                    g: parseInt(result[2], 16),
                    b: parseInt(result[3], 16)
                } : null;
            },
            
            relativeLuminance(hex) {
                const rgb = this.hexToRgb(hex);
                if (!rgb) return 0;
                
                const [r, g, b] = [rgb.r, rgb.g, rgb.b].map(c => {
                    c = c / 255;
                    return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
                });
                
                return 0.2126 * r + 0.7152 * g + 0.0722 * b;
            },
            
            pickTextColor(bgHex) {
                const luminance = this.relativeLuminance(bgHex);
                return luminance > 0.5 ? '#0b1020' : '#f7f7fb';
            },
            
            withAlpha(hex, alpha) {
                const rgb = this.hexToRgb(hex);
                return rgb ? `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alpha})` : hex;
            },
            
            getSaturation(hex) {
                const rgb = this.hexToRgb(hex);
                if (!rgb) return 0;
                
                const r = rgb.r / 255;
                const g = rgb.g / 255;
                const b = rgb.b / 255;
                
                const max = Math.max(r, g, b);
                const min = Math.min(r, g, b);
                
                if (max === 0) return 0;
                return (max - min) / max;
            }
        };
        
        // Theme Palettes
        const PALETTES = [
            ['#f6b1ce', '#1581bf', '#3db6b1', '#cce5cf'],
            ['#fff58a', '#ffbbe1', '#dd7bdf', '#b3bfff'],
            ['#ffead8', '#e8988a', '#9b177e', '#2a1458'],
            ['#69247c', '#da498d', '#fac67a', '#f9e6cf']
        ];
        
        function paletteToTokens(palette) {
            const sorted = [...palette].sort((a, b) => 
                ColorUtils.relativeLuminance(a) - ColorUtils.relativeLuminance(b)
            );
            
            const bg = sorted[0];
            const bg2 = sorted[1];
            const surface = sorted[sorted.length - 1];
            
            const accentCandidates = sorted.slice(1, -1);
            const accent = accentCandidates.reduce((best, curr) => 
                ColorUtils.getSaturation(curr) > ColorUtils.getSaturation(best) ? curr : best
            , accentCandidates[0] || sorted[2]);
            
            const accent2 = accentCandidates.find(c => c !== accent) || sorted[2];
            
            const textColor = ColorUtils.pickTextColor(bg);
            
            return {
                bg,
                bg2,
                surface: ColorUtils.withAlpha(surface, 0.15),
                text: textColor,
                muted: ColorUtils.withAlpha(textColor, 0.7),
                border: ColorUtils.withAlpha(textColor, 0.15),
                accent,
                accent2,
                'accent-glow': ColorUtils.withAlpha(accent, 0.15),
                'accent2-glow': ColorUtils.withAlpha(accent2, 0.15),
                shadow: ColorUtils.withAlpha(accent, 0.3),
                'badge-bg': ColorUtils.withAlpha(accent, 0.1)
            };
        }
        
        // Scroll Indicator Manager
        class ScrollIndicatorManager {
            constructor() {
                this.indicator = document.getElementById('scrollIndicator');
                this.projectsSection = document.getElementById('projectsSection');
                this.hasScrolled = false;
                
                this.init();
            }
            
            init() {
                if (!this.indicator) return;
                
                // Smooth scroll on click
                this.indicator.addEventListener('click', () => {
                    this.projectsSection.scrollIntoView({ behavior: 'smooth' });
                });
                
                // Hide on scroll
                let scrollTimeout;
                window.addEventListener('scroll', () => {
                    clearTimeout(scrollTimeout);
                    
                    if (window.scrollY > 100 && !this.hasScrolled) {
                        this.hasScrolled = true;
                        this.indicator.classList.add('hidden');
                    }
                    
                    // Show again if scrolled back to top
                    scrollTimeout = setTimeout(() => {
                        if (window.scrollY < 100) {
                            this.hasScrolled = false;
                            this.indicator.classList.remove('hidden');
                        }
                    }, 150);
                }, { passive: true });
            }
        }
        
        // Theme Drift Manager
        class ThemeDriftManager {
            constructor() {
                this.palettes = PALETTES;
                this.currentIndex = 0;
                this.nextIndex = 1;
                this.isPlaying = true;
                this.isFading = false;
                this.interval = null;
                this.fadeTimeout = null;
                
                this.root = document.getElementById('themeRoot');
                this.playPauseBtn = document.getElementById('playPauseBtn');
                this.nextBtn = document.getElementById('nextBtn');
                
                this.prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                
                if (this.prefersReducedMotion) {
                    this.isPlaying = false;
                }
                
                this.init();
            }
            
            init() {
                this.applyTheme();
                
                if (this.isPlaying && !this.prefersReducedMotion) {
                    this.startDrift();
                }
                
                this.playPauseBtn.addEventListener('click', () => this.togglePlayPause());
                this.nextBtn.addEventListener('click', () => this.nextTheme());
                
                this.updatePlayPauseButton();
            }
            
            applyTheme() {
                const currentTokens = paletteToTokens(this.palettes[this.currentIndex]);
                const nextTokens = paletteToTokens(this.palettes[this.nextIndex]);
                
                Object.entries(currentTokens).forEach(([key, value]) => {
                    this.root.style.setProperty(`--${key}`, value);
                });
                
                Object.entries(nextTokens).forEach(([key, value]) => {
                    this.root.style.setProperty(`--next-${key}`, value);
                });
            }
            
            startDrift() {
                this.stopDrift();
                this.interval = setInterval(() => this.advance(), 4000);
            }
            
            stopDrift() {
                if (this.interval) {
                    clearInterval(this.interval);
                    this.interval = null;
                }
                if (this.fadeTimeout) {
                    clearTimeout(this.fadeTimeout);
                    this.fadeTimeout = null;
                }
            }
            
            advance() {
                if (this.isFading) return;
                
                this.nextIndex = (this.currentIndex + 1) % this.palettes.length;
                this.applyTheme();
                
                this.isFading = true;
                this.root.setAttribute('data-fading', 'true');
                
                this.fadeTimeout = setTimeout(() => {
                    this.currentIndex = this.nextIndex;
                    this.isFading = false;
                    this.root.setAttribute('data-fading', 'false');
                    this.applyTheme();
                }, 1200);
            }
            
            nextTheme() {
                if (this.isFading) return;
                
                if (this.isPlaying) {
                    this.stopDrift();
                }
                
                this.advance();
                
                if (this.isPlaying && !this.prefersReducedMotion) {
                    setTimeout(() => this.startDrift(), 1200);
                }
            }
            
            togglePlayPause() {
                this.isPlaying = !this.isPlaying;
                
                if (this.isPlaying && !this.prefersReducedMotion) {
                    this.startDrift();
                } else {
                    this.stopDrift();
                }
                
                this.updatePlayPauseButton();
            }
            
            updatePlayPauseButton() {
                const icon = this.playPauseBtn.querySelector('i');
                if (this.isPlaying) {
                    icon.className = 'bi bi-pause-fill';
                    this.playPauseBtn.title = 'Pause theme drift';
                    this.playPauseBtn.setAttribute('aria-label', 'Pause');
                } else {
                    icon.className = 'bi bi-play-fill';
                    this.playPauseBtn.title = 'Play theme drift';
                    this.playPauseBtn.setAttribute('aria-label', 'Play');
                }
            }
        }
        
        // Initialize on DOMContentLoaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                new ThemeDriftManager();
                new ScrollIndicatorManager();
            });
        } else {
            new ThemeDriftManager();
            new ScrollIndicatorManager();
        }
    </script>
</body>
</html>