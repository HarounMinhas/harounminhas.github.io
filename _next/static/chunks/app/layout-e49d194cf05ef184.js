(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8704:function(t,e,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,5435)),Promise.resolve().then(r.t.bind(r,2972,23))},5435:function(t,e,r){"use strict";r.d(e,{default:function(){return c}});var n=r(7437),a=r(2265),s=r(9376),o=r(1525);function c(){let[t,e]=(0,a.useState)(""),[r,c]=(0,a.useState)([]),i=(0,s.useRouter)();(0,a.useEffect)(()=>{let e=!0;if(!t){c([]);return}return async function(){try{let r=await (0,o.N9)({search:t,pageLength:5});e&&c(r.data)}catch(t){console.error(t)}}(),()=>{e=!1}},[t]);let u=t=>{i.push("/opportunities?id=".concat(encodeURIComponent(t))),c([]),e("")};return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),t.trim()&&(i.push("/opportunities?search=".concat(encodeURIComponent(t.trim()))),c([]))},children:(0,n.jsx)("input",{type:"text",value:t,onChange:t=>e(t.target.value),placeholder:"Search...",className:"w-48 rounded border px-3 py-1 text-sm","aria-label":"Search opportunities"})}),r.length>0&&(0,n.jsx)("ul",{className:"absolute z-10 mt-1 w-48 rounded border bg-white text-sm",children:r.map(t=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{className:"block w-full px-3 py-1 text-left hover:bg-gray-100",onClick:()=>u(t.id),children:t.title})},t.id))})]})}},1525:function(t,e,r){"use strict";r.d(e,{N9:function(){return a},Oj:function(){return o},ZY:function(){return s}});let n="https://api.artconnect.com/v1";async function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new URL(n+"/opportunities/");if(t.sortBy&&e.searchParams.set("sortBy",t.sortBy),t.page&&e.searchParams.set("page",String(t.page)),t.type){let r=Array.isArray(t.type)?t.type.join(","):t.type;e.searchParams.set("type",r)}if(t.country){let r=Array.isArray(t.country)?t.country.join(","):t.country;e.searchParams.set("country",r)}if(t.city){let r=Array.isArray(t.city)?t.city.join(","):t.city;e.searchParams.set("city",r)}void 0!==t.pageLength&&e.searchParams.set("pageLength",String(t.pageLength)),t.search&&e.searchParams.set("search",t.search);let r=await fetch(e.toString(),{headers:{Accept:"application/json"}});if(!r.ok)throw Error("List fetch failed: ".concat(r.status));return await r.json()}async function s(t){let e=await fetch("".concat(n,"/opportunities/").concat(encodeURIComponent(t),"/"),{headers:{Accept:"application/json"}});if(!e.ok)throw Error("Detail fetch failed: ".concat(e.status));return await e.json()}async function o(){let t=1,e=[];for(;;){let r=await a({page:t,pageLength:100});if(e.push(...r.data),!r.pages||t>=r.pages)break;t++}return e}},7960:function(){}},function(t){t.O(0,[587,965,971,117,744],function(){return t(t.s=8704)}),_N_E=t.O()}]);