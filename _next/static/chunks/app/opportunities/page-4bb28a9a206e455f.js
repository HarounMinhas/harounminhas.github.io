(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{9480:function(e,r,s){Promise.resolve().then(s.bind(s,7156))},7156:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return p}});var t=s(7437),l=s(2265),i=s(9376),a=s(5382),n=s(2972),c=s.n(n),o=s(1525),d=s(2176);function u(e){var r,s,a,n,u;let{id:x}=e,p=(0,i.useSearchParams)(),m=(0,i.useRouter)(),[f,j]=(0,l.useState)(null),[v,N]=(0,l.useState)(!0),[b,g]=(0,l.useState)(null);(0,l.useEffect)(()=>{N(!0),(0,o.ZY)(x).then(j).catch(e=>g(e.message)).finally(()=>N(!1))},[x]);let y=new URLSearchParams(p.toString());y.delete("id");let k="/opportunities?".concat(y.toString());if(v)return(0,t.jsx)("div",{className:"py-10 text-center",role:"status",children:(0,t.jsx)("div",{className:"progress mx-auto w-1/2",children:(0,t.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"},"aria-valuenow":100,"aria-valuemin":0,"aria-valuemax":100})})});if(b)return(0,t.jsxs)("div",{className:"py-10 text-center",children:["Failed to load. ",(0,t.jsx)("button",{className:"underline",onClick:()=>m.refresh(),children:"Retry"})]});if(!f)return null;let w=[f.profile.city,(0,d.p)(f.profile.country)].filter(Boolean).join(", ");return(0,t.jsxs)("article",{className:"space-y-4",children:[(0,t.jsx)("nav",{children:(0,t.jsx)(c(),{href:k,className:"text-blue-600 hover:underline",children:"← Back to opportunities"})}),(0,t.jsxs)("header",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:f.title}),(0,t.jsx)("div",{className:"text-gray-600",children:f.profile.organizationName}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:w})]}),f.profile.profileImageUrl&&(0,t.jsx)("img",{src:f.profile.profileImageUrl,alt:"".concat(f.profile.organizationName," logo"),className:"h-60 w-full rounded object-cover"}),null===(r=f.description)||void 0===r?void 0:r.map((e,r)=>(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:e.content},r)),(null===(s=f.required)||void 0===s?void 0:s.items)&&f.required.items.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Requirements"}),(0,t.jsx)("ul",{className:"list-disc pl-5",children:f.required.items.map(e=>(0,t.jsx)("li",{children:e},e))}),f.required.other&&(0,t.jsx)("p",{children:f.required.other})]}),f.applicationFees&&f.applicationFees.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Application Fees"}),(0,t.jsxs)("table",{className:"mt-2 w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left",children:"Price"}),(0,t.jsx)("th",{className:"text-left",children:"Currency"}),(0,t.jsx)("th",{className:"text-left",children:"Description"})]})}),(0,t.jsx)("tbody",{children:f.applicationFees.map((e,r)=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{children:e.price}),(0,t.jsx)("td",{children:e.currency}),(0,t.jsx)("td",{children:e.description})]},r))})]})]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(null===(a=f.apply)||void 0===a?void 0:a.onlineForm)&&(0,t.jsx)("a",{href:f.apply.onlineForm,target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded bg-blue-600 px-4 py-2 text-white",children:"Apply"}),(null===(n=f.contact)||void 0===n?void 0:n.url)&&(0,t.jsx)("a",{href:f.contact.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded border px-4 py-2",children:"Visit"}),(null===(u=f.contact)||void 0===u?void 0:u.email)&&(0,t.jsx)("a",{href:"mailto:".concat(f.contact.email),className:"inline-block rounded border px-4 py-2",children:"Email"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,t.jsxs)("div",{children:["Created: ",h(f.createdAt)]}),(0,t.jsxs)("div",{children:["Last Modified: ",h(f.lastModifiedDate)]})]})]})}function h(e){if(!e)return"—";try{return new Date(e).toLocaleString()}catch(r){return e}}function x(){let e=(0,i.useSearchParams)().get("id");return e?(0,t.jsx)(u,{id:e}):(0,t.jsx)(a.default,{})}function p(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"py-10 text-center",role:"status",children:"Loading…"}),children:(0,t.jsx)(x,{})})}}},function(e){e.O(0,[965,382,971,117,744],function(){return e(e.s=9480)}),_N_E=e.O()}]);