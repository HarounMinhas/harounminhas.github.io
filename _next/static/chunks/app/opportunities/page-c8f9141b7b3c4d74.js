(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{9480:function(e,r,s){Promise.resolve().then(s.bind(s,7156))},7156:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return x}});var t=s(7437),l=s(2265),i=s(9376),a=s(5253),n=s(2972),c=s.n(n),o=s(1525);function d(e){var r,s,a,n,d;let{id:h}=e,x=(0,i.useSearchParams)(),p=(0,i.useRouter)(),[m,f]=(0,l.useState)(null),[j,v]=(0,l.useState)(!0),[N,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{v(!0),(0,o.ZY)(h).then(f).catch(e=>b(e.message)).finally(()=>v(!1))},[h]);let g=new URLSearchParams(x.toString());g.delete("id");let y="/opportunities?".concat(g.toString());if(j)return(0,t.jsx)("div",{className:"py-10 text-center",role:"status",children:(0,t.jsx)("div",{className:"progress mx-auto w-1/2",children:(0,t.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"},"aria-valuenow":100,"aria-valuemin":0,"aria-valuemax":100})})});if(N)return(0,t.jsxs)("div",{className:"py-10 text-center",children:["Failed to load. ",(0,t.jsx)("button",{className:"underline",onClick:()=>p.refresh(),children:"Retry"})]});if(!m)return null;let k=[m.profile.city,m.profile.country].filter(Boolean).join(", ");return(0,t.jsxs)("article",{className:"space-y-4",children:[(0,t.jsx)("nav",{children:(0,t.jsx)(c(),{href:y,className:"text-blue-600 hover:underline",children:"← Back to opportunities"})}),(0,t.jsxs)("header",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:m.title}),(0,t.jsx)("div",{className:"text-gray-600",children:m.profile.organizationName}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:k})]}),m.profile.profileImageUrl&&(0,t.jsx)("img",{src:m.profile.profileImageUrl,alt:"".concat(m.profile.organizationName," logo"),className:"h-60 w-full rounded object-cover"}),null===(r=m.description)||void 0===r?void 0:r.map((e,r)=>(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:e.content},r)),(null===(s=m.required)||void 0===s?void 0:s.items)&&m.required.items.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Requirements"}),(0,t.jsx)("ul",{className:"list-disc pl-5",children:m.required.items.map(e=>(0,t.jsx)("li",{children:e},e))}),m.required.other&&(0,t.jsx)("p",{children:m.required.other})]}),m.applicationFees&&m.applicationFees.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Application Fees"}),(0,t.jsxs)("table",{className:"mt-2 w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"text-left",children:"Price"}),(0,t.jsx)("th",{className:"text-left",children:"Currency"}),(0,t.jsx)("th",{className:"text-left",children:"Description"})]})}),(0,t.jsx)("tbody",{children:m.applicationFees.map((e,r)=>(0,t.jsxs)("tr",{className:"border-t",children:[(0,t.jsx)("td",{children:e.price}),(0,t.jsx)("td",{children:e.currency}),(0,t.jsx)("td",{children:e.description})]},r))})]})]}),(0,t.jsxs)("div",{className:"space-x-2",children:[(null===(a=m.apply)||void 0===a?void 0:a.onlineForm)&&(0,t.jsx)("a",{href:m.apply.onlineForm,target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded bg-blue-600 px-4 py-2 text-white",children:"Apply"}),(null===(n=m.contact)||void 0===n?void 0:n.url)&&(0,t.jsx)("a",{href:m.contact.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block rounded border px-4 py-2",children:"Visit"}),(null===(d=m.contact)||void 0===d?void 0:d.email)&&(0,t.jsx)("a",{href:"mailto:".concat(m.contact.email),className:"inline-block rounded border px-4 py-2",children:"Email"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,t.jsxs)("div",{children:["Created: ",u(m.createdAt)]}),(0,t.jsxs)("div",{children:["Last Modified: ",u(m.lastModifiedDate)]})]})]})}function u(e){if(!e)return"—";try{return new Date(e).toLocaleString()}catch(r){return e}}function h(){let e=(0,i.useSearchParams)().get("id");return e?(0,t.jsx)(d,{id:e}):(0,t.jsx)(a.default,{})}function x(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"py-10 text-center",role:"status",children:"Loading…"}),children:(0,t.jsx)(h,{})})}}},function(e){e.O(0,[965,253,971,117,744],function(){return e(e.s=9480)}),_N_E=e.O()}]);