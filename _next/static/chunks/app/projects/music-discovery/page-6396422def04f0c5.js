(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{2934:function(e,t,a){Promise.resolve().then(a.bind(a,3072)),Promise.resolve().then(a.bind(a,2255))},3072:function(e,t,a){"use strict";var s=a(7437),i=a(2265),n=a(257);let r=["2025-10-01T22:01:38Z",n.env.NEXT_PUBLIC_BUILD_TIMESTAMP,n.env.NEXT_PUBLIC_BUILD_TIME,n.env.NEXT_PUBLIC_VERCEL_DEPLOYMENT_DATETIME],l=e=>e.toString().padStart(2,"0"),o=e=>{let t=l(e.getDate()),a=l(e.getMonth()+1),s=e.getFullYear(),i=l(e.getHours()),n=l(e.getMinutes()),r=l(e.getSeconds()),o=-e.getTimezoneOffset(),d=Math.abs(o),c=l(Math.floor(d/60)),u=l(d%60);return"".concat(t,"-").concat(a,"-").concat(s," ").concat(i,":").concat(n,":").concat(r," (UTC").concat(o>=0?"+":"-").concat(c,":").concat(u,")")},d=e=>{let t=e.trim();if(!t)return null;let a=new Date(t);if(Number.isNaN(a.getTime())){let e=Number.parseInt(t,10);Number.isNaN(e)||(a=new Date(10===t.length?1e3*e:e))}return Number.isNaN(a.getTime())?null:a},c=Object.freeze({rawValue:null,displayValue:null,isParsed:!1}),u=e=>{var t;return null!==(t=e.find(e=>"string"==typeof e&&e.trim().length>0))&&void 0!==t?t:null},m=function(e){var t,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u(e);if(!i)return c;let n=i.trim(),r=null!==(t=s.parse)&&void 0!==t?t:d,l=null!==(a=s.format)&&void 0!==a?a:o,m=r(n);return m?{rawValue:n,displayValue:l(m),isParsed:!0}:{rawValue:n,displayValue:"Onbekend formaat (".concat(n,")"),isParsed:!1}},h=e=>{let t="rounded-lg border border-sky-200 bg-sky-50 px-4 py-3 text-sm text-sky-900 shadow-sm";return e?"".concat(t," ").concat(e):t},p=(e,t)=>e.rawValue===t.rawValue&&e.displayValue===t.displayValue&&e.isParsed===t.isParsed;t.default=e=>{let{className:t}=e,[a,n]=(0,i.useState)(c);(0,i.useEffect)(()=>{let e=m(r);n(t=>p(t,e)?t:e)},[]);let{rawValue:l,displayValue:o,isParsed:d}=a,u=h(t);return(0,s.jsxs)("div",{className:u,title:null!=l?l:void 0,children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-sky-900",children:"Versie gedeployed op:"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-sky-800",children:null!=o?o:"Versie-informatie niet beschikbaar"}),l&&(0,s.jsxs)("p",{className:"mt-2 text-xs text-sky-600",children:["Bronstempel: ",(0,s.jsx)("code",{className:"rounded bg-sky-100 px-1 py-0.5 text-sky-700",children:l}),!d&&" â€” controleer het formaat van deze waarde."]})]})}},2255:function(e,t,a){"use strict";a.d(t,{default:function(){return H}});var s=a(7437),i=a(2265),n=a(946),r=a(9827),l=a(3145),o=a(3464);let d="https://cdn.pixabay.com/download/audio/2021/09/01/audio_c3617c4a68.mp3?filename=ambient-110734.mp3",c={"tame-impala":{artist:{id:"tame-impala",name:"Tame Impala",imageUrl:"https://images.unsplash.com/photo-1501612780327-45045538702b?auto=format&fit=crop&w=256&q=80",genres:["psychedelic pop","australian psych"],popularity:85},related:["pond","unknown-mortal-orchestra","mgmt","khruangbin","jungle"],topTracks:[{id:"elephant",name:"Elephant",durationMs:234e3,previewUrl:d,artists:[{id:"tame-impala",name:"Tame Impala"}]},{id:"let-it-happen",name:"Let It Happen",durationMs:332e3,previewUrl:d,artists:[{id:"tame-impala",name:"Tame Impala"}]},{id:"the-less-i-know-the-better",name:"The Less I Know the Better",durationMs:216e3,previewUrl:d,artists:[{id:"tame-impala",name:"Tame Impala"}]}]},pond:{artist:{id:"pond",name:"POND",imageUrl:"https://images.unsplash.com/photo-1521334884684-d80222895322?auto=format&fit=crop&w=256&q=80",genres:["psych rock","perth indie"],popularity:64},related:["tame-impala","king-gizzard","melody-prose","unknown-mortal-orchestra"],topTracks:[{id:"daisy",name:"Daisy",durationMs:248e3,previewUrl:d,artists:[{id:"pond",name:"POND"}]},{id:"paint-me-silver",name:"Paint Me Silver",durationMs:258e3,previewUrl:d,artists:[{id:"pond",name:"POND"}]}]},"unknown-mortal-orchestra":{artist:{id:"unknown-mortal-orchestra",name:"Unknown Mortal Orchestra",imageUrl:"https://images.unsplash.com/photo-1529158062015-cad636e69505?auto=format&fit=crop&w=256&q=80",genres:["lo-fi psych","portland indie"],popularity:70},related:["tame-impala","khruangbin","mild-high-club","king-gizzard"],topTracks:[{id:"honeybee",name:"Hunnybee",durationMs:269e3,previewUrl:d,artists:[{id:"unknown-mortal-orchestra",name:"Unknown Mortal Orchestra"}]},{id:"multi-love",name:"Multi-Love",durationMs:26e4,previewUrl:d,artists:[{id:"unknown-mortal-orchestra",name:"Unknown Mortal Orchestra"}]}]},khruangbin:{artist:{id:"khruangbin",name:"Khruangbin",imageUrl:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=256&q=80",genres:["psychedelic soul","thai funk"],popularity:80},related:["men-i-trust","unknown-mortal-orchestra","mild-high-club","jungle"],topTracks:[{id:"people-everywhere",name:"People Everywhere (Still Alive)",durationMs:275e3,previewUrl:d,artists:[{id:"khruangbin",name:"Khruangbin"}]},{id:"time-you-and-i",name:"Time (You and I)",durationMs:312e3,previewUrl:d,artists:[{id:"khruangbin",name:"Khruangbin"}]}]},jungle:{artist:{id:"jungle",name:"Jungle",imageUrl:"https://images.unsplash.com/photo-1529158062209-c095a807b3d5?auto=format&fit=crop&w=256&q=80",genres:["modern soul","uk funk"],popularity:82},related:["parcels","men-i-trust","khruangbin","glass-animals"],topTracks:[{id:"busy-earnin",name:"Busy Earnin'",durationMs:207e3,previewUrl:d,artists:[{id:"jungle",name:"Jungle"}]},{id:"keep-moving",name:"Keep Moving",durationMs:217e3,previewUrl:d,artists:[{id:"jungle",name:"Jungle"}]}]},parcels:{artist:{id:"parcels",name:"Parcels",imageUrl:"https://images.unsplash.com/photo-1527333656061-ca7c559ab776?auto=format&fit=crop&w=256&q=80",genres:["disco","electro pop"],popularity:68},related:["jungle","daft-punk","leisure"],topTracks:[{id:"overnight",name:"Overnight",durationMs:252e3,previewUrl:d,artists:[{id:"parcels",name:"Parcels"}]}]},"men-i-trust":{artist:{id:"men-i-trust",name:"Men I Trust",imageUrl:"https://images.unsplash.com/photo-1464375117522-1311d6a5b81a?auto=format&fit=crop&w=256&q=80",genres:["dream pop","chillwave"],popularity:75},related:["khruangbin","menomena","jungle"],topTracks:[{id:"show-me-how",name:"Show Me How",durationMs:225e3,previewUrl:d,artists:[{id:"men-i-trust",name:"Men I Trust"}]},{id:"lauren",name:"Lauren",durationMs:219e3,previewUrl:d,artists:[{id:"men-i-trust",name:"Men I Trust"}]}]},"king-gizzard":{artist:{id:"king-gizzard",name:"King Gizzard & The Lizard Wizard",imageUrl:"https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?auto=format&fit=crop&w=256&q=80",genres:["psych rock","garage rock"],popularity:78},related:["pond","unknown-mortal-orchestra","tame-impala"],topTracks:[{id:"rattlesnake",name:"Rattlesnake",durationMs:42e4,previewUrl:d,artists:[{id:"king-gizzard",name:"King Gizzard & The Lizard Wizard"}]}]},"mild-high-club":{artist:{id:"mild-high-club",name:"Mild High Club",imageUrl:"https://images.unsplash.com/photo-1435224654926-ecc9f7fa028c?auto=format&fit=crop&w=256&q=80",genres:["lo-fi psych","indie"],popularity:60},related:["unknown-mortal-orchestra","khruangbin","men-i-trust"],topTracks:[{id:"homage",name:"Homage",durationMs:186e3,previewUrl:d,artists:[{id:"mild-high-club",name:"Mild High Club"}]}]},"glass-animals":{artist:{id:"glass-animals",name:"Glass Animals",imageUrl:"https://images.unsplash.com/photo-1531315630201-bb15abeb1650?auto=format&fit=crop&w=256&q=80",genres:["alt pop","neo-psychedelic"],popularity:84},related:["jungle","tame-impala","foster-the-people"],topTracks:[{id:"heat-waves",name:"Heat Waves",durationMs:239e3,previewUrl:d,artists:[{id:"glass-animals",name:"Glass Animals"}]}]}};function u(e,t){let a="musicdiscovery.favorites.".concat(e),s=window.localStorage.getItem(a),i=s?JSON.parse(s):[];return i.find(e=>e.artistId===t.artistId)||i.push(t),window.localStorage.setItem(a,JSON.stringify(i)),Promise.resolve(t)}function m(e,t){let a="musicdiscovery.snapshots.".concat(e),s=window.localStorage.getItem(a),i=s?JSON.parse(s):[];return i.push(t),window.localStorage.setItem(a,JSON.stringify(i)),Promise.resolve(t)}let h={token:"demo-token",user:{id:"demo-user",provider:"anonymous",displayName:"Demo Explorer"}},p=a(257).env.NEXT_PUBLIC_API_BASE,g=p&&p.trim().length>0?p:null,v=g?o.Z.create({baseURL:g.endsWith("/api")?g:"".concat(g.replace(/\/$/,""),"/api"),withCredentials:!0}):null;async function f(e,t){if(!v)return t();try{return await e()}catch(e){return console.warn("[MusicDiscovery] API request failed, falling back to mock data.",e),t()}}let y={async anonymousAuth(){if(!v)return h;try{return(await v.post("/auth/anonymous")).data}catch(e){return console.warn("[MusicDiscovery] Anonymous auth failed, using demo token.",e),h}},async searchArtists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return f(async()=>(await v.get("/spotify/search",{params:{query:e,limit:t}})).data.items,()=>(function(e,t){let a=e.trim().toLowerCase();return Promise.resolve(Object.values(c).map(e=>e.artist).filter(e=>e.name.toLowerCase().includes(a)).slice(0,t))})(e,t))},getRelated:async e=>f(async()=>(await v.get("/spotify/artists/".concat(e,"/related"))).data.items,()=>(function(e){let t=c[e];return t?Promise.resolve(t.related.map(e=>{var t;return null===(t=c[e])||void 0===t?void 0:t.artist}).filter(Boolean)):Promise.resolve([])})(e)),getTopTracks:async(e,t)=>f(async()=>(await v.get("/spotify/artists/".concat(e,"/top-tracks"),{params:{market:t}})).data.items,()=>(function(e){let t=c[e];return t?Promise.resolve(t.topTracks):Promise.resolve([])})(e)),favorites:async e=>f(async()=>(await v.get("/favorites",{headers:{Authorization:"Bearer ".concat(e)}})).data.items,()=>(function(e){let t=window.localStorage.getItem("musicdiscovery.favorites.".concat(e));return t?Promise.resolve(JSON.parse(t)):Promise.resolve([])})(e)),async addFavorite(e,t){if(!v)return await u(e,t),t;try{return(await v.post("/favorites",t,{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(a){return console.warn("[MusicDiscovery] Failed to persist favorite, storing locally.",a),await u(e,t),t}},listSnapshots:async e=>f(async()=>(await v.get("/snapshots",{headers:{Authorization:"Bearer ".concat(e)}})).data.items,()=>(function(e){let t=window.localStorage.getItem("musicdiscovery.snapshots.".concat(e));return t?Promise.resolve(JSON.parse(t)):Promise.resolve([])})(e)),async createSnapshot(e,t){if(!v)return await m(e,t),t;try{return(await v.post("/snapshots",t,{headers:{Authorization:"Bearer ".concat(e)}})).data}catch(a){return console.warn("[MusicDiscovery] Failed to persist snapshot, storing locally.",a),await m(e,t),t}}};var _=a(9625),b=a(3619);let x=(0,_.Ue)((e,t)=>({nodes:[],edges:[],pivotNodeId:null,selectedNodeId:null,loadedNeighbors:{},setPivot(t){e({pivotNodeId:t})},setSelected(t){e({selectedNodeId:t})},upsertRoot(a){let s=t().nodes.find(e=>e.artistId===a.id);if(s)return e({pivotNodeId:s.id,selectedNodeId:s.id}),s.id;let i=(0,b.x0)();return e({nodes:[{id:i,artistId:a.id,name:a.name,imageUrl:a.imageUrl,x:0,y:0}],edges:[],pivotNodeId:i,selectedNodeId:i,loadedNeighbors:{}}),i},addNeighbors(a,s){let i=t(),n=i.nodes.find(e=>e.id===a);if(!n)return;let r=new Set(i.nodes.map(e=>e.artistId)),l=[],o=[],d=s.filter(e=>!r.has(e.id));d.forEach((e,t)=>{var a,s;let i=(0,b.x0)(),r=function(e,t,a,s,i){let n=e/Math.max(t,1)*Math.PI*2;return{x:a+220*Math.cos(n),y:s+220*Math.sin(n)}}(t,d.length,null!==(a=n.x)&&void 0!==a?a:0,null!==(s=n.y)&&void 0!==s?s:0,0);l.push({id:i,artistId:e.id,name:e.name,imageUrl:e.imageUrl,...r}),o.push({source:n.id,target:i})}),s.forEach(e=>{let t=i.nodes.find(t=>t.artistId===e.id);t&&!i.edges.some(e=>e.source===n.id&&e.target===t.id||e.target===n.id&&e.source===t.id)&&o.push({source:n.id,target:t.id})}),e({nodes:[...i.nodes,...l],edges:[...i.edges,...o],loadedNeighbors:{...i.loadedNeighbors,[n.artistId]:s.map(e=>e.id)}})},reset(){e({nodes:[],edges:[],pivotNodeId:null,selectedNodeId:null,loadedNeighbors:{}})}}));var k=a(945),w=a.n(k);function N(){let[e,t]=(0,i.useState)(""),[a,n]=(0,i.useState)([]),[r,o]=(0,i.useState)(!1),d=(0,i.useRef)(null),c=x(e=>e.upsertRoot),u=x(e=>e.addNeighbors);(0,i.useEffect)(()=>{let t=setTimeout(async()=>{if(e.trim().length<2){n([]),o(!1);return}n(await y.searchArtists(e.trim(),8)),o(!0)},220);return()=>clearTimeout(t)},[e]);let m=async e=>{u(c({id:e.id,name:e.name,imageUrl:e.imageUrl}),await y.getRelated(e.id)),o(!1),t(e.name)};return(0,s.jsxs)("div",{className:w().search,children:[(0,s.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Zoek artiest of band...",className:w().searchInput,onFocus:()=>a.length&&o(!0),onBlur:()=>{setTimeout(()=>o(!1),120)}}),r&&a.length>0&&(0,s.jsx)("div",{ref:d,className:w().searchList,children:a.map(e=>{var t;return(0,s.jsxs)("button",{onMouseDown:()=>m(e),className:w().track,style:{border:"none",background:"transparent",textAlign:"left",width:"100%"},children:[e.imageUrl&&(0,s.jsx)(l.default,{src:e.imageUrl,width:40,height:40,style:{borderRadius:12,objectFit:"cover"},alt:e.name}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:e.name}),(null===(t=e.genres)||void 0===t?void 0:t.length)?(0,s.jsx)("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginTop:4},children:e.genres.slice(0,3).map(e=>(0,s.jsx)("span",{className:w().chip,children:e},e))}):(0,s.jsx)("small",{children:"Artiest"})]})]},e.id)})})]})}var j=a(166);class I{ensureAudio(){return this.audio||(this.audio=new Audio,this.audio.volume=.8,this.audio.addEventListener("ended",()=>this.emit()),this.audio.addEventListener("pause",()=>this.emit())),this.audio}play(e,t){var a,s;if(!t)return;let i=this.ensureAudio();if((null===(a=this.current)||void 0===a?void 0:a.id)===e&&!i.paused){i.pause(),this.emit();return}(null===(s=this.current)||void 0===s?void 0:s.id)!==e&&(i.src=t),this.current={id:e,url:t},i.play(),this.emit()}pause(){this.ensureAudio().pause(),this.emit()}isPlaying(e){let t=this.ensureAudio();return!!this.current&&this.current.id===e&&!t.paused}volume(e){this.ensureAudio().volume=e,this.emit()}onChange(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}emit(){this.listeners.forEach(e=>e())}constructor(){this.audio=null,this.listeners=new Set}}let S=new I;function P(e){let{x:t,y:a,title:n,items:r,onClose:l}=e,o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{var t;(null===(t=o.current)||void 0===t?void 0:t.contains(e.target))||l()},t=e=>{"Escape"===e.key&&l()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[l]),(0,s.jsxs)("div",{ref:o,className:w().menu,style:{left:t,top:a},children:[n&&(0,s.jsx)("div",{className:w().menuTitle,children:n}),r.map((e,t)=>(0,s.jsx)("button",{className:w().menuButton,onClick:()=>{e.disabled||(l(),e.onClick())},disabled:e.disabled,style:{opacity:e.disabled?.5:1},children:e.label},t))]})}let T=(0,j.default)(()=>a.e(85).then(a.bind(a,5085)),{loadableGenerated:{webpack:()=>[5085]},ssr:!1});function M(){var e;let{nodes:t,edges:a,pivotNodeId:n,setPivot:r,addNeighbors:l,setSelected:o}=x(),d=(0,i.useRef)(),[c,u]=(0,i.useState)(null),m=(0,i.useMemo)(()=>new Map,[]),h=(0,i.useMemo)(()=>({nodes:t,links:a}),[t,a]),p=e=>{if(!e)return;if(m.has(e))return m.get(e);let t=new Image;return t.src=e,m.set(e,t),t};return(0,i.useEffect)(()=>{if(!n||!d.current)return;let e=t.find(e=>e.id===n);if(e){var a,s;d.current.centerAt(null!==(a=e.x)&&void 0!==a?a:0,null!==(s=e.y)&&void 0!==s?s:0,800),d.current.zoom(1.5,800)}},[n,t]),(0,s.jsxs)("div",{className:w().canvasWrap,onContextMenu:e=>e.preventDefault(),children:[(0,s.jsx)(T,{ref:d,graphData:h,nodeRelSize:6,linkColor:()=>"#3a4460",linkWidth:1,cooldownTicks:60,enableNodeDrag:!0,backgroundColor:"rgba(10,12,20,0)",onNodeClick:(e,t)=>{o(e.id),u({x:t.clientX,y:t.clientY,nodeId:e.id})},onNodeRightClick:(e,t)=>{t.preventDefault(),o(e.id),u({x:t.clientX,y:t.clientY,nodeId:e.id})},onBackgroundClick:()=>u(null),nodeCanvasObject:(e,t,a)=>{let s=p(e.imageUrl);if(s){var i,n;i=e.x,n=e.y,t.save(),t.beginPath(),t.arc(i,n,26,0,2*Math.PI),t.closePath(),t.clip(),t.drawImage(s,i-26,n-26,52,52),t.restore()}else t.beginPath(),t.arc(e.x,e.y,26,0,2*Math.PI),t.fillStyle="#233152",t.fill();t.font="".concat(12/Math.max(a,1),"px 'Inter', sans-serif"),t.textAlign="center",t.textBaseline="top",t.fillStyle="rgba(230,233,239,0.95)",t.fillText(e.name,e.x,e.y+26+6)}}),c&&(0,s.jsx)(P,{x:c.x,y:c.y,title:null===(e=x.getState().nodes.find(e=>e.id===c.nodeId))||void 0===e?void 0:e.name,onClose:()=>u(null),items:[{label:"Meer gelijkaardige artiesten",onClick:async()=>{let e=x.getState().nodes.find(e=>e.id===c.nodeId);if(!e)return;r(e.id);let t=await y.getRelated(e.artistId);l(e.id,t)}},{label:"Luister preview",onClick:async()=>{let e=x.getState().nodes.find(e=>e.id===c.nodeId);if(!e)return;let t=(await y.getTopTracks(e.artistId)).find(e=>e.previewUrl);t&&S.play(t.id,t.previewUrl)}}]})]})}function A(){let[,e]=(0,i.useState)(0);return(0,i.useEffect)(()=>S.onChange(()=>e(e=>e+1)),[]),(0,s.jsxs)("div",{className:w().footerPlayer,children:[(0,s.jsx)("button",{className:w().btn,onClick:()=>S.pause(),children:"Pauzeer"}),(0,s.jsx)("input",{type:"range",min:0,max:1,step:.01,defaultValue:.8,className:w().range,onChange:e=>S.volume(Number(e.target.value))})]})}let L=(0,i.createContext)({token:null,setToken:()=>{},favorites:[],refreshFavorites:async()=>{}});function C(e){let{children:t}=e,[a,n]=(0,i.useState)(null),[r,l]=(0,i.useState)([]),o=(0,i.useMemo)(()=>async()=>{if(!a){l([]);return}l(await y.favorites(a))},[a]);(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.hash.replace(/^#/,"")).get("token");if(e){n(e),window.localStorage.setItem("musicdiscovery.token",e),window.location.hash="";return}let t=window.localStorage.getItem("musicdiscovery.token");if(t){n(t);return}y.anonymousAuth().then(e=>{n(e.token),window.localStorage.setItem("musicdiscovery.token",e.token)})},[]),(0,i.useEffect)(()=>{o()},[o]);let d=(0,i.useMemo)(()=>({token:a,setToken:n,favorites:r,refreshFavorites:o}),[a,r,o]);return(0,s.jsx)(L.Provider,{value:d,children:t})}function E(){return(0,i.useContext)(L)}function B(){let{token:e,refreshFavorites:t}=E(),a=x(e=>e.selectedNodeId?e.nodes.find(t=>t.id===e.selectedNodeId):e.pivotNodeId?e.nodes.find(t=>t.id===e.pivotNodeId):void 0),[n,r]=(0,i.useState)("idle"),l=async()=>{a&&e&&(await y.addFavorite(e,{artistId:a.artistId,name:a.name,imageUrl:a.imageUrl}),r("saved"),await t(),setTimeout(()=>r("idle"),2400))};return a?(0,s.jsx)("button",{className:w().btn,onClick:l,disabled:!e,children:"saved"===n?"Bewaard":"Favoriet"}):null}function U(){let[e,t]=(0,i.useState)(!1),[a,n]=(0,i.useState)("Mijn snapshot"),{token:r,refreshFavorites:l}=E(),o=x(e=>({nodes:e.nodes,edges:e.edges,pivotNodeId:e.pivotNodeId})),d=(0,i.useMemo)(()=>0===o.nodes.length,[o.nodes.length]),c=async()=>{r&&!d&&(await y.createSnapshot(r,{title:a,graphJson:o}),t(!1),await l(),window.dispatchEvent(new CustomEvent("musicdiscovery:snapshot-created")))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:w().btn,onClick:()=>t(!0),disabled:!r||d,children:"Snapshot"}),e&&(0,s.jsx)("div",{className:w().dialogBackdrop,children:(0,s.jsxs)("div",{className:w().dialog,children:[(0,s.jsx)("h3",{className:w().dialogTitle,children:"Snapshot opslaan"}),(0,s.jsx)("input",{value:a,onChange:e=>n(e.target.value),className:w().dialogInput,placeholder:"Naam van je snapshot"}),(0,s.jsxs)("div",{className:w().dialogActions,children:[(0,s.jsx)("button",{className:w().btn,onClick:()=>t(!1),children:"Annuleer"}),(0,s.jsx)("button",{className:"".concat(w().btn," ").concat(w().btnPrimary),onClick:c,children:"Opslaan"})]})]})})]})}var z=a(1713);function D(){let e=x(e=>e.selectedNodeId?e.nodes.find(t=>t.id===e.selectedNodeId):e.pivotNodeId?e.nodes.find(t=>t.id===e.pivotNodeId):void 0),[t,a]=(0,i.useState)(0);(0,i.useEffect)(()=>S.onChange(()=>a(e=>e+1)),[]);let n=(0,i.useMemo)(()=>window.navigator.language.slice(0,2).toUpperCase(),[]),{data:r,isLoading:o}=(0,z.a)({queryKey:["top-tracks",null==e?void 0:e.artistId,n],queryFn:()=>y.getTopTracks(e.artistId,n),enabled:!!e});return e?(0,s.jsxs)("div",{className:w().sideSection,children:[(0,s.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[e.imageUrl&&(0,s.jsx)(l.default,{src:e.imageUrl,width:64,height:64,style:{borderRadius:16},alt:e.name}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:700,fontSize:16},children:e.name}),(0,s.jsx)("div",{className:w().label,children:"Top tracks"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[o&&(0,s.jsx)("div",{className:w().label,children:"Laden..."}),(r||[]).map(e=>(0,s.jsxs)("div",{className:w().track,style:{background:"rgba(12,16,26,0.55)"},children:[(0,s.jsx)("button",{className:"".concat(w().btn," ").concat(w().btnPrimary),onClick:()=>S.play(e.id,e.previewUrl),disabled:!e.previewUrl,children:S.isPlaying(e.id)?"Pause":"Play"}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("div",{style:{fontWeight:600},children:e.name}),(0,s.jsx)("small",{children:function(e){let t=Math.floor(e/1e3);return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"))}(e.durationMs)})]})]},e.id))]})]}):(0,s.jsx)("div",{className:w().sideSection,children:"Selecteer een artiest in de graaf om top tracks te zien."})}function O(){let{token:e,favorites:t}=E(),[a,n]=(0,i.useState)([]);return(0,i.useEffect)(()=>{if(!e){n([]);return}y.listSnapshots(e).then(e=>n(null!=e?e:[]))},[e]),(0,i.useEffect)(()=>{let t=()=>{e&&y.listSnapshots(e).then(e=>n(null!=e?e:[]))};return window.addEventListener("musicdiscovery:snapshot-created",t),()=>window.removeEventListener("musicdiscovery:snapshot-created",t)},[e]),(0,s.jsxs)("aside",{className:w().side,children:[(0,s.jsxs)("div",{className:w().sideSection,children:[(0,s.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,s.jsx)(B,{}),(0,s.jsx)(U,{})]}),(0,s.jsx)("div",{className:w().label,children:"Pin, bewaar en deel je graaf."})]}),(0,s.jsx)(D,{}),(0,s.jsxs)("div",{className:w().sideSection,children:[(0,s.jsx)("div",{className:w().sideSectionHeader,children:"Favorieten"}),0===t.length?(0,s.jsx)("div",{className:w().label,children:"Nog geen favorieten toegevoegd."}):(0,s.jsx)("div",{className:w().snapshotList,children:t.map(e=>(0,s.jsx)("div",{className:w().snapshotCard,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:w().snapshotTitle,children:e.name}),(0,s.jsx)("div",{className:w().label,children:"Artiest"})]})},e.artistId))})]}),(0,s.jsxs)("div",{className:w().sideSection,children:[(0,s.jsx)("div",{className:w().sideSectionHeader,children:"Snapshots"}),0===a.length?(0,s.jsx)("div",{className:w().label,children:"Sla een snapshot op om je graaf later terug te openen."}):(0,s.jsx)("div",{className:w().snapshotList,children:a.map((e,t)=>{var a,i,n;return(0,s.jsx)("div",{className:w().snapshotCard,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:w().snapshotTitle,children:e.title}),(0,s.jsxs)("div",{className:w().label,children:[null!==(n=null===(i=e.graphJson)||void 0===i?void 0:null===(a=i.nodes)||void 0===a?void 0:a.length)&&void 0!==n?n:0," nodes"]})]})},"".concat(e.title,"-").concat(t))})})]})]})}let q=[{id:"musicbrainz",name:"MusicBrainz API",description:"Open muziekencyclopedie zonder authenticatie, ideaal voor metadata en artiestrelaties.",requiresToken:!1,docsUrl:"https://musicbrainz.org/doc/Development/XML_Web_Service/Version_2"},{id:"itunes",name:"iTunes Search API",description:"Publieke catalogus van Apple Music/iTunes zonder token, perfect voor snelle zoekopdrachten.",requiresToken:!1,docsUrl:"https://developer.apple.com/library/archive/documentation/AudioVideo/Conceptual/iTuneSearchAPI"},{id:"songsterr",name:"Songsterr Tabs API",description:"Gitaar-tabs, akkoorden en artiestinformatie zonder API-sleutel, ideaal voor creatieve inspiratie.",requiresToken:!1,docsUrl:"https://www.songsterr.com/a/wa/api"},{id:"spotify",name:"Spotify Web API",description:"Volledige catalogus met streaming metadata, vereist OAuth-token voor toegang.",requiresToken:!0,docsUrl:"https://developer.spotify.com/documentation/web-api"},{id:"lastfm",name:"Last.fm API",description:"Community-statistieken, scrobbles en aanbevelingen via een eenvoudige REST API (API-key vereist).",requiresToken:!0,docsUrl:"https://www.last.fm/api"}];function R(e){let{blueprint:t}=e,[a,n]=(0,i.useState)(null),r=(0,i.useMemo)(()=>{var e;return null!==(e=q.find(e=>e.id===a))&&void 0!==e?e:null},[a]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:w().toolbar,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-slate-100",children:"MusicDiscovery"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-slate-300",children:"Kies een muziek API om te starten. Beschikbaar zijn zowel open bronnen zonder token als platform-API's met OAuth."})]}),(0,s.jsxs)("div",{className:w().apiPicker,children:[(0,s.jsx)("span",{className:w().apiPickerLabel,children:"Selecteer muziek API"}),(0,s.jsx)("ul",{className:w().apiList,role:"list",children:q.map(e=>{let t=a===e.id;return(0,s.jsx)("li",{children:(0,s.jsxs)("button",{className:"".concat(w().apiButton," ").concat(t?w().apiButtonActive:""),onClick:()=>n(e.id),type:"button","aria-pressed":t,children:[(0,s.jsxs)("div",{className:w().apiButtonHeader,children:[(0,s.jsx)("span",{children:e.name}),e.requiresToken?(0,s.jsx)("span",{className:w().apiBadgeLocked,"aria-label":"Token of API-sleutel vereist",title:"Token of API-sleutel vereist",children:"\uD83D\uDD10"}):(0,s.jsx)("span",{className:w().apiBadge,"aria-label":"Geen token of key nodig",title:"Geen token of key nodig",children:"\uD83D\uDD13"})]}),(0,s.jsx)("p",{className:w().apiDescription,children:e.description}),(0,s.jsxs)("span",{className:w().apiDocs,"aria-hidden":"true",children:["Documentatie \xb7 ",new URL(e.docsUrl).hostname]})]})},e.id)})})]})]}),(0,s.jsx)("div",{children:r?(0,s.jsxs)("div",{className:w().selectionNotice,children:[(0,s.jsxs)("span",{children:["Geselecteerde API: ",(0,s.jsx)("strong",{children:r.name})]}),(0,s.jsx)("a",{className:w().selectionLink,href:r.docsUrl,target:"_blank",rel:"noreferrer",children:"Bekijk documentatie"})]}):(0,s.jsx)("div",{className:w().selectionNoticeMuted,children:"Selecteer een API hierboven om de ervaring te starten."})}),r?(0,s.jsxs)("div",{className:w().app,children:[(0,s.jsxs)("header",{className:w().header,children:[(0,s.jsx)("div",{className:w().logo,children:"MusicDiscovery"}),(0,s.jsx)(N,{}),(0,s.jsxs)("nav",{style:{display:"flex",gap:10},children:[(0,s.jsx)("a",{className:w().btn,href:"#",children:"Home"}),(0,s.jsx)("a",{className:w().btn,href:"#discover",children:"Discover"}),(0,s.jsx)("a",{className:w().btn,href:"#library",children:"Library"})]})]}),(0,s.jsxs)("main",{className:w().main,children:[(0,s.jsx)("div",{className:w().canvasWrap,children:(0,s.jsx)(M,{})}),(0,s.jsx)(O,{})]}),(0,s.jsxs)("footer",{className:w().footer,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:w().label,children:"Global player"}),(0,s.jsx)("div",{style:{color:"white",fontWeight:600},children:"Luister 30s previews"})]}),(0,s.jsx)(A,{})]})]}):null]})}function H(e){let{blueprint:t}=e,[a]=(0,i.useState)(()=>new n.S);return(0,s.jsx)(C,{children:(0,s.jsx)(r.aH,{client:a,children:(0,s.jsx)(R,{blueprint:t})})})}},945:function(e){e.exports={app:"styles_app__7cP1e",header:"styles_header__ucJNr",logo:"styles_logo__Auuhw",main:"styles_main__fCGOD",canvasWrap:"styles_canvasWrap__qeRjG",side:"styles_side__F_qw0",footer:"styles_footer__1GYbK",search:"styles_search__EPdPY",searchInput:"styles_searchInput__XOKws",searchList:"styles_searchList__T0oj5",menu:"styles_menu__LernV",menuTitle:"styles_menuTitle__nLHVR",menuButton:"styles_menuButton__MS3c7",track:"styles_track__yhYe5",btn:"styles_btn__xvAXO",btnPrimary:"styles_btnPrimary__kqLov",label:"styles_label__O07XJ",toolbar:"styles_toolbar__KJHd1",apiPicker:"styles_apiPicker__E3J5_",apiPickerLabel:"styles_apiPickerLabel__S84LC",apiList:"styles_apiList__XE2nC",apiButton:"styles_apiButton__04h5m",apiButtonActive:"styles_apiButtonActive__Rtmol",apiButtonHeader:"styles_apiButtonHeader__itLjD",apiBadge:"styles_apiBadge___Zs2H",apiBadgeLocked:"styles_apiBadgeLocked__e4Vh3",apiDescription:"styles_apiDescription__3jv0Q",apiDocs:"styles_apiDocs__ITuJm",selectionNotice:"styles_selectionNotice__RRmSF",selectionLink:"styles_selectionLink__Wa4A_",selectionNoticeMuted:"styles_selectionNoticeMuted__dCw_N",dialogBackdrop:"styles_dialogBackdrop__qJ_EK",dialog:"styles_dialog__kYyJa",dialogTitle:"styles_dialogTitle__7WzXC",dialogInput:"styles_dialogInput__nqqLS",dialogActions:"styles_dialogActions__SEGwo",sideSection:"styles_sideSection__gYuwD",sideSectionHeader:"styles_sideSectionHeader__jhCu2",snapshotList:"styles_snapshotList__lqvWu",snapshotCard:"styles_snapshotCard__Awqnz",snapshotTitle:"styles_snapshotTitle__ejwRD",chipRow:"styles_chipRow__x3XEu",chip:"styles_chip__dt9ET",footerPlayer:"styles_footerPlayer__D6bBE",range:"styles_range__mBy39",tabs:"styles_tabs__WR3eg",tabButton:"styles_tabButton__8Lzl7",tabButtonActive:"styles_tabButtonActive__h6NcM",blueprint:"styles_blueprint__M6LjC"}}},function(e){e.O(0,[288,434,446,971,117,744],function(){return e(e.s=2934)}),_N_E=e.O()}]);