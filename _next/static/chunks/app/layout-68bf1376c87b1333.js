(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4036:function(e,t,n){Promise.resolve().then(n.t.bind(n,7960,23)),Promise.resolve().then(n.bind(n,5435)),Promise.resolve().then(n.bind(n,7487)),Promise.resolve().then(n.t.bind(n,2972,23))},5435:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var a=n(7437),s=n(2265),o=n(9376),r=n(1525);function i(){let[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),u=(0,o.useRouter)();(0,s.useEffect)(()=>{let e=!1;return async function(){try{let t=null;{let e=sessionStorage.getItem("all-opportunities");if(e)try{t=JSON.parse(e)}catch(e){}}let n=t||await (0,r.Oj)();if(e)return;c(n),t||sessionStorage.setItem("all-opportunities",JSON.stringify(n))}catch(e){console.error(e)}}(),()=>{e=!0}},[]),(0,s.useEffect)(()=>{if(!e){i([]);return}let t=e.toLowerCase();i(l.filter(e=>e.title.toLowerCase().includes(t)).slice(0,5))},[e,l]);let p=e=>{u.push("/opportunities?id=".concat(encodeURIComponent(e))),i([]),t("")};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&(u.push("/opportunities?search=".concat(encodeURIComponent(e.trim()))),i([]))},className:"relative",children:[(0,a.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2 text-gray-500",children:(0,a.jsx)("i",{className:"bi bi-search"})}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search...",className:"w-48 rounded border pl-8 pr-3 py-1 text-sm","aria-label":"Search opportunities"})]}),n.length>0&&(0,a.jsx)("ul",{className:"absolute z-10 mt-1 w-48 rounded border bg-white text-sm",children:n.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("button",{className:"block w-full px-3 py-1 text-left hover:bg-gray-100",onClick:()=>p(e.id),children:e.title})},e.id))})]})}},7487:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var a=n(7437),s=n(2265);let o=[{value:"flatly",label:"Light"},{value:"darkly",label:"Dark"},{value:"cyborg",label:"Darker"}];function r(){let[e,t]=(0,s.useState)("flatly");return(0,s.useEffect)(()=>{let e=localStorage.getItem("theme")||"flatly";t(e);let n=document.getElementById("bootstrap-theme");n&&(n.href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/".concat(e,"/bootstrap.min.css"))},[]),(0,a.jsx)("select",{value:e,onChange:e=>{let n=e.target.value;t(n),localStorage.setItem("theme",n);let a=document.getElementById("bootstrap-theme");a&&(a.href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/".concat(n,"/bootstrap.min.css"))},className:"form-select w-auto",children:o.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})}},1525:function(e,t,n){"use strict";n.d(t,{Oj:function(){return r},ZY:function(){return o}});let a="https://api.artconnect.com/v1";async function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new URL(a+"/opportunities/");t.searchParams.set("page",String(e));let n=await fetch(t.toString(),{headers:{Accept:"application/json"}});if(409===n.status)throw Error("409");if(!n.ok)throw Error("List fetch failed: ".concat(n.status));return await n.json()}async function o(e){async function t(){let n=await fetch("".concat(a,"/opportunities/").concat(encodeURIComponent(e),"/"),{headers:{Accept:"application/json"}});return n.ok?await n.json():(await new Promise(e=>setTimeout(e,1e3)),t())}return t()}async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=1,a=[];for(;;){let o;try{o=await s(n)}catch(e){await new Promise(e=>setTimeout(e,1e3));continue}if(a.push(...o.data),e&&e(a.slice(),n,o.pages),!o.pages||n>=o.pages)break;n++,t>0&&await new Promise(e=>setTimeout(e,t))}return a}},7960:function(){}},function(e){e.O(0,[587,965,971,117,744],function(){return e(e.s=4036)}),_N_E=e.O()}]);